diff --git a/hadoop-hdfs-project/hadoop-hdfs/src/test/java/org/apache/hadoop/hdfs/TestReconstructStripedFile.java b/hadoop-hdfs-project/hadoop-hdfs/src/test/java/org/apache/hadoop/hdfs/TestReconstructStripedFile.java
index b119e7855b77..6156c3da33c1 100644
--- a/hadoop-hdfs-project/hadoop-hdfs/src/test/java/org/apache/hadoop/hdfs/TestReconstructStripedFile.java
+++ b/hadoop-hdfs-project/hadoop-hdfs/src/test/java/org/apache/hadoop/hdfs/TestReconstructStripedFile.java
@@ -571,7 +571,8 @@ public void stripedBlockReconstruction() throws IOException {
       DataNodeFaultInjector.set(oldInjector);
       for (final DataNode curDn : cluster.getDataNodes()) {
         GenericTestUtils.waitFor(() -> curDn.getXceiverCount() <= 1, 10, 60000);
-        assertEquals(0, curDn.getXmitsInProgress());
+        GenericTestUtils.waitFor(() -> curDn.getXmitsInProgress() == 0, 10,
+            2500);
       }
     }
   }
