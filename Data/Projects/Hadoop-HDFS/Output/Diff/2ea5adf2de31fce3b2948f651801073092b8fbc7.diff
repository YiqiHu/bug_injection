diff --git a/hadoop-common-project/hadoop-common/src/test/java/org/apache/hadoop/io/TestSequenceFile.java b/hadoop-common-project/hadoop-common/src/test/java/org/apache/hadoop/io/TestSequenceFile.java
index 044824356ed3..cf64bbc0f945 100644
--- a/hadoop-common-project/hadoop-common/src/test/java/org/apache/hadoop/io/TestSequenceFile.java
+++ b/hadoop-common-project/hadoop-common/src/test/java/org/apache/hadoop/io/TestSequenceFile.java
@@ -649,8 +649,9 @@ public void testCreateWriterOnExistingFile() throws IOException {
   @Test
   public void testRecursiveSeqFileCreate() throws IOException {
     FileSystem fs = FileSystem.getLocal(conf);
-    Path name = new Path(new Path(GenericTestUtils.getTempPath(
-        "recursiveCreateDir")), "file");
+    Path parentDir = new Path(GenericTestUtils.getTempPath(
+            "recursiveCreateDir"));
+    Path name = new Path(parentDir, "file");
     boolean createParent = false;
 
     try {
@@ -662,11 +663,16 @@ public void testRecursiveSeqFileCreate() throws IOException {
       // Expected
     }
 
-    createParent = true;
-    SequenceFile.createWriter(fs, conf, name, RandomDatum.class,
-        RandomDatum.class, 512, (short) 1, 4096, createParent,
-        CompressionType.NONE, null, new Metadata());
-    // should succeed, fails if exception thrown
+    try {
+      createParent = true;
+      SequenceFile.createWriter(fs, conf, name, RandomDatum.class,
+          RandomDatum.class, 512, (short) 1, 4096, createParent,
+          CompressionType.NONE, null, new Metadata());
+      // should succeed, fails if exception thrown
+    } finally {
+      fs.deleteOnExit(parentDir);
+      fs.close();
+    }
   }
 
   @Test
