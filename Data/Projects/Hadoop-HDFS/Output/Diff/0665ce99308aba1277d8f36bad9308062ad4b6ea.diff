diff --git a/hadoop-hdfs-project/hadoop-hdfs/src/test/java/org/apache/hadoop/hdfs/server/datanode/fsdataset/impl/TestReplicaCachingGetSpaceUsed.java b/hadoop-hdfs-project/hadoop-hdfs/src/test/java/org/apache/hadoop/hdfs/server/datanode/fsdataset/impl/TestReplicaCachingGetSpaceUsed.java
index 6abf5238682d..d4382d27fb22 100644
--- a/hadoop-hdfs-project/hadoop-hdfs/src/test/java/org/apache/hadoop/hdfs/server/datanode/fsdataset/impl/TestReplicaCachingGetSpaceUsed.java
+++ b/hadoop-hdfs-project/hadoop-hdfs/src/test/java/org/apache/hadoop/hdfs/server/datanode/fsdataset/impl/TestReplicaCachingGetSpaceUsed.java
@@ -43,6 +43,7 @@
 import java.util.Set;
 
 import static org.apache.hadoop.fs.CommonConfigurationKeysPublic.FS_DU_INTERVAL_KEY;
+import static org.apache.hadoop.test.PlatformAssumptions.assumeNotWindows;
 import static org.junit.Assert.assertEquals;
 
 /**
@@ -112,6 +113,8 @@ public void testReplicaCachingGetSpaceUsedByFINALIZEDReplica()
 
   @Test
   public void testReplicaCachingGetSpaceUsedByRBWReplica() throws Exception {
+ // This test cannot pass on Windows
+    assumeNotWindows();
     FSDataOutputStream os =
         fs.create(new Path("/testReplicaCachingGetSpaceUsedByRBWReplica"));
     byte[] bytes = new byte[20480];
