

package org.apache.hadoop.fs.s3a.impl;

import java.io.IOException;

import org.apache.hadoop.fs.FileStatus;
import org.apache.hadoop.fs.Path;
import org.apache.hadoop.fs.s3a.Retries;
import org.apache.hadoop.fs.s3a.S3AFileStatus;
import org.apache.hadoop.fs.s3a.S3ALocatedFileStatus;
import org.apache.hadoop.fs.s3a.S3ListRequest;
import org.apache.hadoop.fs.s3a.S3ListResult;
import org.apache.hadoop.fs.s3a.s3guard.ITtlTimeProvider;


public interface ListingOperationCallbacks {

  
  @Retries.RetryRaw
  S3ListResult listObjects(
          S3ListRequest request)
          throws IOException;

  
  @Retries.RetryRaw
  S3ListResult continueListObjects(
          S3ListRequest request,
          S3ListResult prevResult)
          throws IOException;

  
  S3ALocatedFileStatus toLocatedFileStatus(
          S3AFileStatus status)
          throws IOException;
  
  S3ListRequest createListObjectsRequest(
          String key,
          String delimiter);


  
  long getDefaultBlockSize(Path path);

  
  int getMaxKeys();

  
  ITtlTimeProvider getUpdatedTtlTimeProvider();

  
  boolean allowAuthoritative(Path p);
}
