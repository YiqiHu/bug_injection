    if (keepUncompressedBuf && uncompressedDirectBufLen - uncompressedDirectBufOff > 0) {
    if (uncompressedDirectBufLen - uncompressedDirectBufOff <= 0) {
